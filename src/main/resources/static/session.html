<!DOCTYPE html>
<html lang="fr" data-bs-theme="dark">
    <head>
        <meta charset="UTF-8" />
        <title>Session</title>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"/>
        <meta http-equiv="Pragma" content="no-cache"/>
        <meta http-equiv="Expires" content="0"/>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
        <link href="css/style.css" rel="stylesheet"/>
        <link href="css/session.css" rel="stylesheet"/>
        <link href="css/rod-card.css" rel="stylesheet"/>

    </head>
    <!-- MODALE DE CRÃ‰ATION DE CANNE -->
    <div id="createRodModal" class="modal-overlay">
        <div class="modal-content">
            <h2>Nouvelle Canne ðŸŽ£</h2>
            <p>Donne un nom Ã  ta canne :</p>
            <input type="text" id="rodNameInput" placeholder="Ex : canne gauche" maxlength="40" />
            <div class="modal-actions">
                <button id="cancelModalBtn" class="btn btn-secondary">Annuler</button>
                <button id="confirmModalBtn" class="btn btn-primary">CrÃ©er</button>
            </div>
        </div>
    </div>
    <!-- Modal for uploading photos -->
    <div id="uploadPhotoModal" class="modal">
      <div class="modal-content">
        <span class="close" id="closeUploadModal">&times;</span>
        <h2>Ajouter des photos Ã  votre session</h2>
        <form id="photoUploadForm">
          <input type="file" id="photoInput" name="photos" multiple accept="image/*">
          <div id="photoPreviewContainer"></div>
          <button type="button" id="uploadPhotosButton">Uploader</button>
          <button type="button" id="finishSessionButton">Terminer</button>
        </form>
      </div>
    </div>
    <body class="d-flex flex-column min-vh-100 overflow-hidden text-light">
        <header class="app-header">
            <div class="header-left">
                <span id="usernameDisplay" class="username-display"></span>
            </div>
            <div class="header-center-session">
                <img src="/img/logo.png" alt="Fishing Copilot Logo" class="logo">
            </div>
            <div class="header-right">
            </div>
        </header>
        <!-- Section principale -->
        <main class="main-content">
            <!-- barre supÃ©rieure : bouton ajouter une canne -->
            <div class="add-rod-bar p-3">
                <button id="addRodBtn" class="btn-add-rod w-100">+ Ajouter une canne</button>
            </div>

            <!-- contenu principal -->
            <div class="session-body flex-grow-1">
                <!-- ici tu mettras tes infos de session, cannes, stats, etc -->
            </div>

            <!-- bouton Terminer -->
            <div class="end-session-bar p-3">
                <button id="closeSession" class="btn-end-session w-100">Terminer la session</button>
            </div>
        </main>
        <footer class="app-footer">
            Â© 2025 Fishing Copilot â€” Tous droits rÃ©servÃ©s
            <br>
            <a href="mailto:contact.fishingcopilot@gmail.com">contact</a>
        </footer>

        <script>
          document.getElementById('backToHomeButton').addEventListener('click', () => {
            window.location.href = 'home.html';
          });
        </script>
        <script src="utils.js?v=1"></script>
        <script type="module" src="scripts/session/rodSession.js?v=1"></script>
        <script type="module" src="scripts/session/rod-card.js?v=1"></script>
    </body>
</html>
